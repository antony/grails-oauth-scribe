<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>

  <title>aiten/grails-oauth-scribe @ GitHub</title>

  <style type="text/css">
    body {
      margin-top: 1.0em;
      background-color: #fff;
      font-family: Helvetica, Arial, FreeSans, san-serif;
      color: #000000;
    }
    #container {
      margin: 0 auto;
      width: 700px;
    }
    h1 { font-size: 3.8em; color: #421a3e; margin-bottom: 3px; }
    h1 .small { font-size: 0.4em; }
    h1 a { text-decoration: none }
    h2 { font-size: 1.5em; color: #421a3e; }
    h3 { text-align: center; color: #421a3e; }
    a { color: #421a3e; }
    .description { font-size: 1.2em; margin-bottom: 30px; margin-top: 30px; font-style: italic;}
    .download { float: right; }
    pre { background: #000; color: #fff; padding: 15px;}
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .footer { text-align:center; padding-top:30px; font-style: italic; }
  </style>
</head>

<body>
  <a href="http://github.com/aiten/grails-oauth-scribe"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>

  <div id="container">

    <div class="download">
      <a href="http://github.com/aiten/grails-oauth-scribe/zipball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/zip.png"></a>
      <a href="http://github.com/aiten/grails-oauth-scribe/tarball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/tar.png"></a>
    </div>

    <h1><a href="http://github.com/aiten/grails-oauth-scribe">grails-oauth-scribe</a>
      <span class="small">by <a href="http://github.com/aiten">aiten</a></span></h1>

    <div class="description">
      Grails Oauth plugin using the Scribe library
    </div>

    <p>Provides a way to consume oauth protected resources from Grails.

Minimal configuration, supports Oauth 1.0a and 2.0, and HMAC, RSA, and Plaintext authentication. Additionally supports everything the Scribe oAuth library provides, including a large number of preconfigured connectors.</p><h2>Dependencies</h2>
<p>Grails
Scribe oAuth</p>
<h2>Install</h2>
<p>In the simplest instance:
<pre>
grails install-plugin oauth-scribe
</pre>
alternatively, the correct way is to add (or add to) the following section inside your grails BuildConfig.groovy:
<pre>
plugins {
   runtime ':oauth-scribe:1.2' // Note, check for the latest version, don't just use 1.2
}
</pre>
</p>
<h2>License</h2>
<p>GPL, ASL</p>
<h2>Authors</h2>
<p>Desirable Objects Ltd</p>
<h2>Contact</h2>
<p>Desirable Objects Ltd</p>

<h2>Usage</h2>

<p>
After installing the plugin, add the following section to your Config.groovy file:

<pre>
oauth {
    provider = org.scribe.builder.api.TwitterApi
    key     = 'your-consumer-key'
    secret  = 'your-consumer-secret'
    callback = "${grails.serverURL}/oauth/callback"
    successUri = '/myController/connected'
    failureUri = '/myController/connection_failed'
}
</pre>

In the configuration snippet above, all included configuration is mandatory, you can use the table below to help you tailor it to your needs.

The table below describes the configuration parameters and their meanings:

<dl>
<dt>provider</dt><dd>The oAuth provider to be used. The org.scribe.builder.api package
contains a lot of common ones, but if you need a custom provider, you can write your own
as detailed in the scribe-java documentation</dd>
<dt>key</dt><dd>Your consumer key as provided by your oauth provider</dd>
<dt>secret</dt><dd>Your consumer secret as provided by your oauth provider</dd>
<dt>callback</dt><dd>The internal callback your oauth provider should hit when you authorise. For now this should not be modified</dd>
<dt>successUri</dt><dd>The url the user should end up at if they connect successfully with oauth</dd>
<dt>failureUri</dt><dd>The url the user should end up at if their oauth connection fails for some reason</dd>
<dt>connectTimeout</dt><dd>Optional. Number of milliseconds the plugin should wait to connect to the oauth provider before it gives up on the assumption that the provider is not responding. Defaults to 30000 (thirty seconds)</dd>
<dt>connectTimeout</dt><dd>Optional. Number of milliseconds the plugin should wait to read data from the oauth provider before it gives up on the assumption that the provider is not responding. Defaults to 30000 (thirty seconds)</dd>

</dl>

</p>

<h2>Usage</h2>

<p>
Once configured, usage is very straightforward. When you want a user to connect to your oauth provider, adding a link to do so is as simple as:

<pre>
&lt;oauth:connect&gt;Your link goes here&lt;/oauth:connect&gt;
</pre>

The text 'Your link goes here' can be replaced with any content you like, including images, buttons, text - it will simply become wrapped in a link tag.

If a user clicks your link, they will be sent back to the 'successUri' configured in your configuration (above) after authorising with the oauth provider. At this point there will be a session variable called 'oasAccessToken' which contains an <tt>org.scribe.model.Token</tt> instance, which is your access token and can be used to make requests as follows:

<pre>
import uk.co.desirableobjects.oauth.scribe.OauthService

class MyService {
    OauthService oauthService

    def myMethod() {
        oauthService.getResource(session[OauthService.ACCESS_TOKEN_SESSION_KEY], 'http://api.yourprovider.com/users/list')
    }
}
</pre>

<p>Although you can use the 'oasAccessToken' string literal, it's better to use the constant field <tt>OauthService.ACCESS_TOKEN_SESSION_KEY</tt> in case the actual key changes at any point.</p>

<p>In the instance above, <tt>yourprovider</tt> is your oauth protected resource. You can also use the following methods which represent GET, POST, PUT, and DELETE respectively:</p>

<ul>
<li>getResource</li>
<li>postResource</li>
<li>putResource</li>
<li>deleteResource</li>
</ul>

</p>

<h2>Troubleshooting</h2>
<p>
Thanks to Oauth Scribe's debugging feature, you can get debugging information about your requests straight to System.out:

Place the following in your Config.groovy file, in the oauth { } configuration closure:

<pre>
debug = true
</pre>

</p>

    <h2>Download</h2>
    <p>
      You can download this project in either
      <a href="http://github.com/aiten/grails-oauth-scribe/zipball/master">zip</a> or
      <a href="http://github.com/aiten/grails-oauth-scribe/tarball/master">tar</a> formats.
    </p>
    <p>You can also clone the project with <a href="http://git-scm.com">Git</a>
      by running:
      <pre>$ git clone git://github.com/aiten/grails-oauth-scribe</pre>
    </p>

    <div class="footer">
      get the source code on GitHub : <a href="http://github.com/aiten/grails-oauth-scribe">aiten/grails-oauth-scribe</a>
    </div>

  </div>

  
</body>
</html>
